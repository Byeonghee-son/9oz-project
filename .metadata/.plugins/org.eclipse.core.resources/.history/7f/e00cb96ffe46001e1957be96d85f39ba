package com.example.oz.controller;

import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.example.oz.domain.Image;
import com.example.oz.repository.ImageRepository;

import lombok.RequiredArgsConstructor;

@RestController
@RequiredArgsConstructor
public class ImageController {
	
	private final ImageRepository imageRepo;
	
	@RequestMapping("/{mainclass}")
    public Iterable<Image> getImagesByMainclass(@PathVariable String mainclass) {
        return imageRepo.findByMainclass(mainclass);
    }

    // subclass로 검색
    @RequestMapping("/{mainclass}/{subclass}")
    public Iterable<Image> getImagesBySubclass(@PathVariable String mainclass, @PathVariable String subclass) {
        return imageRepo.findByMainclassAndSemiclass(mainclass, subclass);
    }
	
}
